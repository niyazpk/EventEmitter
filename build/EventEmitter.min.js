/*! EventEmitter 2014-02-02 */
var EventEmitter=function(){};EventEmitter.prototype={on:function(a,b){return this._events=this._events||{},this.emit("newListener",a,b),this._events[a]=this._events[a]||[],this._events[a].push(b),this},off:function(a,b){if(this._events=this._events||{},a in this._events){var c=this._events[a].indexOf(b);-1!==c&&(this._events[a].splice(c,1),this.emit("removeListener",a,b))}return this},once:function(a,b){var c=this;c.on(a,function d(){c.removeListener(a,d),b.apply(this,arguments)})},removeAllListeners:function(a){return this._events=this._events||{},a?delete this._events[a]:this._events={},this},listeners:function(a){return this._events=this._events||{},(this._events[a]||[]).slice()},emit:function(a){this._events=this._events||{};var b=Array.prototype.slice.call(arguments,1),c=this._events[a],d=c?c.length:0;if(d){for(;d--;)c[d].apply(this,b);return!0}return!1}};