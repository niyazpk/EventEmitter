/*! EventEmitter 2014-02-03 */
var EventEmitter=function(){this._events={},this._maxListeners=10};EventEmitter.prototype={on:function(a,b){return this.emit("newListener",a,b),this._events[a]=this._events[a]||[],this._events[a].push(b),this},off:function(a,b){if(a in this._events){var c=this._events[a].indexOf(b);-1!==c&&(this._events[a].splice(c,1),this.emit("removeListener",a,b))}return this},once:function(a,b){var c=this;c.on(a,function d(){c.removeListener(a,d),b.apply(this,arguments)})},setMaxListeners:function(a){return this._maxListeners=a||0,this},removeAllListeners:function(a){return a?delete this._events[a]:this._events={},this},listeners:function(a){return(this._events[a]||[]).slice()},emit:function(a){var b=Array.prototype.slice.call(arguments,1),c=this._events[a],d=c?c.length:0;if(d){for(;d--;)c[d].apply(this,b);return!0}return!1}},EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prototype.removeListener=EventEmitter.prototype.off,EventEmitter.mixin=function(a){for(var b=["on","off","once","emit","setMaxListeners","removeAllListeners","listeners","addListener","removeListener"],c=0;c<b.length;c++)"function"==typeof a?a.prototype[b[c]]=EventEmitter.prototype[b[c]]:a[b[c]]=EventEmitter.prototype[b[c]];a._events={},a._maxListeners=10},EventEmitter.listenerCount=function(a,b){return a.listeners(b).length},"undefined"!=typeof module&&"exports"in module&&(module.exports=EventEmitter);